<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=no;" name="viewport" />
  <title>Ensemplix API by web93onv</title>
  <meta name="robots" content="noindex,nofollow" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
  <link rel="stylesheet" href="mc_font.css" />
  <style>
    html,
    body {
      height: 100%;
      /* The html and body elements cannot have any padding or margin. */
    }

    /* Wrapper for page content to push down footer */
    #wrap {
      min-height: 100%;
      height: auto;
      /* Negative indent footer by its height */
      margin: 0 auto -60px;
      /* Pad bottom by footer height */
      padding: 0 0 60px;
    }

    /* Set the fixed height of the footer here */
    #footer {
      height: 60px;
      background-color: #f5f5f5;
    }
  </style>
</head>
<body>

<div id="wrap">
<div class="container" style="padding-top:20px;">

<nav class="navbar navbar-default" role="navigation">
  <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="http://ens.pavlo.cc/">Ensemplix API</a>
  </div>
  
  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="https://ensemplix.ru" target="_blank" class="dropdown-toggle" data-toggle="dropdown">Сайт <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="https://ensemplix.ru" target="_blank">Главная страница</a></li>
          <li class="divider"></li>
          <li><a href="https://ensemplix.ru/articles/view/1/" target="_blank">Правила сервера</a></li>
          <li><a href="https://ensemplix.ru/articles/view/6/" target="_blank">Команды сервера</a></li>
          <li><a href="https://ensemplix.ru/articles/view/3/" target="_blank">Защита территории</a></li>
          <li class="divider"></li>
          <li><a href="https://ensemplix.ru/banlist" target="_blank">Банлист</a></li>
        </ul>
      </li>
      <li><a href="mc-color-chat.html">Цветной чат</a></li>
      <li><a href="blacklist.html">Блеклист</a></li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li class="dropdown">
        <a href="https://github.com/web93onv" target="_blank" class="icon dropdown-toggle" data-toggle="dropdown" style="background-image:url('https://plus.google.com/_/favicon?domain=github.com');background-position:15px center;background-repeat:no-repeat;padding-left:35px">GitHub <b class="caret"></b></a>
        <ul class="dropdown-menu">
          <li><a href="https://github.com/web93onv" target="_blank">web93onv GitHub Profile</a></li>
          <li class="divider"></li>
          <li><a href="https://github.com/web93onv/Ensemplix-API-by-web93onv" target="_blank">Ensemplix API by web93onv</a></li>
          <li><a href="https://github.com/web93onv/Minecraft-blocks-and-items-icons" target="_blank">Minecraft blocks and items icons</a></li>
        </ul>
      </li>
      <li><a class="icon" href="http://pavlo.cc" target="_blank" style="background-image:url('https://plus.google.com/_/favicon?domain=pavlo.cc');background-position:15px center;background-repeat:no-repeat;padding-left:35px">Компьютерная помощь</a></li>
    </ul>
  </div>
</nav>

<h2>Цветной чат</h2>

<div id="color_chat" class="row">
  <div class="col-md-6">
    <div class="panel panel-default">
      <div class="panel-body">
        <textarea id="color_chat_input" class="form-control" rows="15">Давай затестим цветной текст в чате!
&0black
&1darkblue
&2darkgreen
&3darkaqua
&4darkred
&5purple
&6gold
&7grey
&8darkgrey
&9blue
&agreen
&baqua
&cred
&dpink
&eyellow
&fwhite </textarea>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="output mc mc-textarea">Давай затестим!</div>
  </div>
</div>

</div>
</div>

<script>
function htmlEscape(str) {
  return String(str)
    .replace(/</g, '&#60;')
    .replace(/>/g, '&#62;');
}

function mcChatReplacer(str, p1, p2, offset, s) {
  return "<span class='mc mc-"+p1.toLowerCase()+"'>"+p2+"</span>";
}

function mcChat(str) {
  return htmlEscape(str)
    .replace(/\n/ig,"\n§f")
    .replace(/&([0-9a-fklmnor])/ig,"§$1")
      .replace(/§[klmnor]/ig, "") // удаление форматировочных кодов :-(
    .replace(/§([0-9a-f])([^§]+)/ig, mcChatReplacer)
    .replace(/§[0-9a-fklmnor]/ig, "");
}

var el = document.querySelector("#color_chat .output");

el.innerHTML = mcChat(color_chat_input.value);

document.addEventListener("keyup", function(e) {
  el.innerHTML = mcChat(color_chat_input.value);
});
</script>

<div id="footer">
  <div class="container">
    <p class="muted credit" style="margin:20px 0;color:#999;">&copy; 2013-2014</p>
  </div>
</div>

<script>
if(location.protocol !== "file:") {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46473418-2', 'pavlo.cc');
  ga('send', 'pageview');
}
</script>

</body>
</html>